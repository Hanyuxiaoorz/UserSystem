package com.mis.user.backstagemanagement.controller;import com.alibaba.fastjson.JSONObject;import com.mis.user.backstagemanagement.service.iml.UserAdviceMailServiceIml;import com.mis.user.commom.canstants.Canstants;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.RequestBody;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import java.util.HashMap;import java.util.Map;import static org.springframework.web.bind.annotation.RequestMethod.POST;@RestControllerpublic class UserAdvice {    private Logger logger = LoggerFactory.getLogger(this.getClass());    Map map = new HashMap<String,String>();    @Autowired    UserAdviceMailServiceIml adviceMailServiceIml;    @RequestMapping(value = "/contactUs",method = POST)    public Object contactUs(@RequestBody JSONObject requestJson){        try {            String title = (String) requestJson.get("contactTitle");            String content = (String) requestJson.get("contactContent");            if(adviceMailServiceIml.adviceMail(title,content) != null){                map.clear();                map.put("verifyMail", Canstants.REGIST_VCODE_FAIL);//5,返回值不为null，即验证邮箱发送失败            }            else {                map.clear();                map.put("verifyMail", Canstants.SUCCESS);//1，返回值为null，即验证邮件发送成功            }        }catch (Exception e){            logger.error(e.getClass()+"{}",e);            map.clear();            map.put("verifyMail",Canstants.FAIL);//0,存在异常        }        return map;    }}